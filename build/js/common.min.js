!function(){function hidePreloader(){$("#loader-wrapper").fadeOut("slow")}function activeEl(a){$(a).closest("table").find("td").removeClass("active"),$(a).addClass("active")}function getLocaleText(){$.ajax({url:"http://cdn.anychart.com/locale/1.1.0/index.json",success:function(a){for(var t,e=a,r=$(".language-locale").find("tbody"),n=0;n<e["anychart-locales"].locales.length;n++)t=e["anychart-locales"].locales[n],r.append('<tr><td data-locale-src="'+t.url+'" data-code="'+t.code+'">'+t.englishName+" - "+t.nativeName+"</td></tr>");askEventLanguageLocale()}})}function getDateTimePattern(a){var t="http://cdn.anychart.com/locale/1.1.0/formats/"+a+".js";loadScript(t,changePattern,a)}function changePattern(a){var t=$(".date-pattern").find("tbody");t.empty();for(var e=0;e<formats[a].length;e++)t.append("<tr><td>"+formats[a][e]+"</td></tr>");askEventDatePattern()}function loadScript(a,t,e){var r=$("body")[0],n=document.createElement("script"),l='script[src="'+a+'"]';if(array_url.unshift(a),n.src=a,0==$(l).length&&r.appendChild(n),"changeLocale"===t.name)n.onload=t(e);else if("changePattern"===t.name){var o=!1;n.onload=n.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,t(e),displayFormatArray(a,e),displayFullSource(array_url))}}displayLocaleJSON(a)}function displayLocaleJSON(url){url.indexOf("formats")===-1&&$.ajax({url:url,success:function(source){var code=JSON.stringify(eval(source),null,"\t"),$lang_json=$("#locale-json").find(".language-json");$lang_json.text(code),Prism.highlightElement($lang_json[0])}})}function displayFormatArray(a,t){if(a.indexOf("formats")!==-1){var e=$("#format-array").find(".language-javascript"),r="var formats['"+t+"'] = ",n=formats[t].map(function(a,t){return 0==t?'"'+a+'"':'\t\t\t\t\t"'+a+'"'});e.text(r+"["+n.join(",\n")+"]"),Prism.highlightElement(e[0])}}function displayFullSource(a){for(var t=$(".language-markup"),e=text_doc.substr(0,text_doc.indexOf("</body>")),r=0;r<array_url.length;r++)e.indexOf(a[r])==-1&&(e+="\n",e+='<script src="'+a[r]+'"></script>');e+="\n</body>",array_url=[],t.text(e),Prism.highlightElement(t[0])}function disposeChart(){chart&&(chart.dispose(),chart=null)}function changeLocale(a){function t(){if(void 0!=window.anychart.format.locales[a]){var t=$(".date-pattern").find("td.active").text();clearInterval(e),disposeChart(),createDailyChart(orcl_intraday_data,"intraday-chart",a,t)}}if("string"==typeof a&&anychart.format.outputLocale()!=a)var e=setInterval(t,50)}function changeDatePattern(a){var t=anychart.format.outputLocale();disposeChart(),createDailyChart(orcl_intraday_data,"intraday-chart",t,a)}function askEventLanguageLocale(){$(".language-locale").find("td").on("click",function(){var a=$(this),t=a.attr("data-locale-src"),e=a.attr("data-code");loadScript(t,changeLocale,e),getDateTimePattern(e),activeEl(a)}).first().trigger("click")}function askEventDatePattern(){$(".date-pattern").find("td").on("click",function(){var a=$(this);activeEl(a),changeDatePattern(a.text())})}function createDailyChart(data,container,locale,format){var date_format="EEEE, dd MMMM yyyy - hh:mm";format&&(date_format=format),anychart.format.outputLocale(locale);var dataTable=anychart.data.table();dataTable.addData(data);var closeMapping=dataTable.mapAs({value:4}),volumeMapping=dataTable.mapAs({value:5,type:"average"});chart=anychart.stock(),chart.title().enabled(!0).text("ORCL Intraday data"),chart.padding().left("70px");var valuePlot=chart.plot(0);valuePlot.line(closeMapping).name("Close"),valuePlot.grid().enabled(!0),valuePlot.minorGrid().enabled(!0),valuePlot.legend().titleFormatter(function(){return anychart.format.dateTime(this.value,date_format,null,locale)}),valuePlot.legend().itemsTextFormatter(function(){return anychart.format.number(this.value,locale)}),valuePlot.yAxis().labels().textFormatter(function(){return anychart.format.number(this.value,locale)});var volumePlot=chart.plot(1);volumePlot.column(volumeMapping).name("Volume"),volumePlot.height("30%"),volumePlot.legend().titleFormatter(function(){return anychart.format.dateTime(this.value,date_format,null,locale)}),volumePlot.legend().itemsTextFormatter(function(){return anychart.format.number(this.value,locale)}),volumePlot.yAxis().labels().textFormatter(function(){return anychart.format.number(this.value,locale)}),chart.tooltip().titleFormatter(function(){return anychart.format.dateTime(this.hoveredDate,"dd/MM/yy - hh:mm",null,locale)}),chart.tooltip().textFormatter(function(){return"Close: "+anychart.format.number(eval(this.formattedValues[0]),locale)+"\nVolume: "+anychart.format.number(eval(this.formattedValues[1]),locale)}),chart.scroller().line(closeMapping),"string"==typeof range[0]&&"string"==typeof range[1]&&(range[0]=new Date(range[0]).getTime(),range[1]=new Date(range[1]).getTime()),chart.selectRange(range[0],range[1]),chart.container(container),chart.draw(),chart.listen("selectedrangechange",function(a){range[0]=a.firstSelected,range[1]=a.lastSelected})}function placeBlocks(){var a=window.matchMedia("(max-width: 768px)");a.matches?$(".preview-container").detach().insertAfter(".tables-container"):$(".tables-container").detach().insertAfter(".preview-container")}var chart,range=["Mon Jun 29 2009 22:25:18","Thu Jul 02 2009 22:11:19"],orcl_intraday_data=get_orcl_intraday_data(),text_doc=document.documentElement.innerHTML,array_url=[];formats={},anychart.onDocumentReady(function(){$(".tabs-control a").click(function(a){a.preventDefault(),$(this).tab("show")}),getLocaleText()}),$(window).on("load",function(){placeBlocks(),hidePreloader()}),$(window).on("resize",function(){placeBlocks()})}();